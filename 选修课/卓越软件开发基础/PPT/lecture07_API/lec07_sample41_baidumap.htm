<!DOCTYPE html>
<html>
  <head>
    <title>Lecture7 Sample</title>
    <style>
		body{font-size:16pt;}
		h1{font-size:28pt;font-weight:bold;color:red;}
		div{width:800px;height:600px;}
    </style>
	<script src="http://api.map.baidu.com/api?v=1.4"></script> 
  </head>
  <body>
	<h1>Here is the position</h1>
	<div id="output"></div>
  </body>
  <script>
		var output = document.getElementById("output");
		function get_location(){
			if(navigator.geolocation)    
				navigator.geolocation.getCurrentPosition(show_map);
			else
				output.innerHTML="你的浏览器不支持使用HTML5来获取地理位置信息！";
		}		
		function show_map(position){
			//显示地理信息
			var latitude = position.coords.latitude;
			var longitude = position.coords.longitude;
			// 创建地图实例
			var map = new BMap.Map("output");          
			// 创建点坐标
			var point = new BMap.Point(longitude, latitude);  
			// 初始化地图，设置中心点坐标和地图级别
			map.centerAndZoom(point, 15);
			// 创建标注
			var marker = new BMap.Marker(point); 
			// 将标注添加到地图中
			map.addOverlay(marker);                     
		} 
		get_location();
  </script>

</html>
